<execution>
  <constraint>
    ## 情节设计技术限制
    - **逻辑一致性约束**：所有情节转折必须符合故事内在逻辑
    - **读者接受度约束**：转折不能过于突兀或不可信
    - **篇幅控制约束**：需要在有限篇幅内实现最大戏剧效果
    - **类型规范约束**：不同类型故事有特定的情节设计规范
  </constraint>

  <rule>
    ## 情节设计强制规则
    - **转折紧凑度标准**：每15-20%故事进度必须有一个重要转折点
    - **悬疑线索密度**：每个章节至少包含1-2个悬疑元素或线索
    - **因果链完整性**：每个重要事件必须有明确的前因后果
    - **信息控制原则**：关键信息的披露必须服务于悬疑和转折设计
  </rule>

  <guideline>
    ## 情节设计指导原则
    - **意料之外，情理之中**：转折要出人意料但回顾时合理
    - **层层递进**：悬疑和冲突强度要逐步升级
    - **多线并行**：主线与支线交织，增强故事复杂性
    - **读者参与**：给读者留下思考和推理的空间
  </guideline>

  <process>
    ## 情节设计标准流程
    
    ### Step 1: 故事结构分析 (20分钟)
    
    ```mermaid
    graph TD
        A[故事概念] --> B[三幕结构划分]
        B --> C[关键节点标记]
        C --> D[转折点规划]
        
        B --> B1[第一幕: 建立世界]
        B --> B2[第二幕: 发展冲突]
        B --> B3[第三幕: 解决危机]
        
        C --> C1[开端钩子]
        C --> C2[第一转折点]
        C --> C3[中点危机]
        C --> C4[第二转折点]
        C --> C5[高潮对决]
        C --> C6[结局解答]
        
        D --> D1[转折类型选择]
        D --> D2[转折强度设定]
        D --> D3[转折时机安排]
    ```
    
    **结构分析清单**：
    - 故事的核心冲突是什么？
    - 主要转折点应该设置在哪里？
    - 每个转折点的功能和影响是什么？
    
    ### Step 2: 悬疑线索设计 (25分钟)
    
    ```mermaid
    mindmap
      root((悬疑系统))
        核心谜团
          主要秘密
          关键真相
          最终揭示
        支线谜团
          角色秘密
          背景谜团
          红鲱鱼
        线索网络
          直接线索
          间接暗示
          误导信息
        揭示节奏
          早期暗示
          中期确认
          后期揭晓
    ```
    
    **悬疑设计工具**：
    
    ```mermaid
    graph LR
        A[谜团设定] --> B[线索埋设]
        B --> C[揭示时机]
        C --> D[读者反应]
        D --> E[情节推进]
        
        B --> B1[显性线索]
        B --> B2[隐性暗示]
        B --> B3[误导信息]
        
        C --> C1[25%进度]
        C --> C2[50%进度]
        C --> C3[75%进度]
        C --> C4[90%进度]
    ```
    
    ### Step 3: 转折点精密设计 (30分钟)
    
    ```mermaid
    graph TD
        A[转折点规划] --> B[转折类型选择]
        B --> C[转折强度设定]
        C --> D[逻辑支撑构建]
        D --> E[情感冲击优化]
        
        B --> B1[信息揭示型]
        B --> B2[角色转变型]
        B --> B3[情境逆转型]
        B --> B4[关系重构型]
        
        C --> C1[微转折: 局部调整]
        C --> C2[中转折: 方向改变]
        C --> C3[大转折: 全盘颠覆]
        
        D --> D1[前期铺垫检查]
        D --> D2[因果关系验证]
        D --> D3[角色动机合理性]
        
        E --> E1[惊喜度评估]
        E --> E2[情感共鸣强化]
        E --> E3[后续影响设计]
    ```
    
    **转折点设计模板**：
    
    | 转折类型 | 设置位置 | 强度等级 | 逻辑支撑 | 情感冲击 |
    |---------|---------|---------|---------|----------|
    | 开端钩子 | 0-5% | 中等 | 角色设定 | 好奇心 |
    | 第一转折 | 20-25% | 高 | 前期铺垫 | 震惊 |
    | 中点危机 | 45-55% | 最高 | 多线汇聚 | 绝望 |
    | 第二转折 | 75-80% | 高 | 角色成长 | 希望 |
    | 最终揭示 | 90-95% | 最高 | 全局逻辑 | 满足感 |
    
    ### Step 4: 紧凑度优化 (15分钟)
    
    ```mermaid
    flowchart TD
        A[场景审查] --> B{场景功能}
        B -->|推进情节| C[保留优化]
        B -->|发展角色| D[整合精简]
        B -->|营造氛围| E[选择性保留]
        B -->|无明确功能| F[删除]
        
        C --> G[信息密度检查]
        D --> G
        E --> G
        
        G --> H{密度是否足够}
        H -->|是| I[通过]
        H -->|否| J[增加信息或合并场景]
        
        J --> K[重新评估]
        K --> H
    ```
    
    **紧凑度评估指标**：
    - **场景效率**：每个场景至少推进2个故事元素
    - **对话密度**：每段对话至少包含1个有效信息
    - **描写功能性**：环境描写必须服务于情节或氛围
    - **转场流畅性**：场景转换要自然且高效
    
    ### Step 5: 整体节奏调优 (10分钟)
    
    ```mermaid
    graph LR
        A[节奏分析] --> B[张力曲线]
        B --> C[调整策略]
        C --> D[最终验证]
        
        B --> B1[高潮点分布]
        B --> B2[缓解段长度]
        B --> B3[整体起伏]
        
        C --> C1[增加张力]
        C --> C2[适当缓解]
        C --> C3[重新分布]
    ```
  </process>

  <criteria>
    ## 情节质量评价标准

    ### 转折紧凑度指标
    - ✅ 重要转折点密度：每20%进度≥1个
    - ✅ 转折逻辑合理性：≥90%
    - ✅ 转折惊喜度：≥80%
    - ✅ 转折推进力：≥85%

    ### 悬疑线索指标
    - ✅ 线索分布均匀性：≥85%
    - ✅ 谜团吸引力：≥80%
    - ✅ 揭示时机准确性：≥90%
    - ✅ 逻辑自洽性：≥95%

    ### 整体紧凑度指标
    - ✅ 场景功能性：≥90%
    - ✅ 信息密度：≥80%
    - ✅ 节奏流畅性：≥85%
    - ✅ 冗余度控制：≤10%

    ### 读者体验指标
    - ✅ 参与度维持：≥85%
    - ✅ 情感投入度：≥80%
    - ✅ 预期管理：≥90%
    - ✅ 满意度：≥85%
  </criteria>
</execution>